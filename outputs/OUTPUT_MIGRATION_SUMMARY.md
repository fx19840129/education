# è¾“å‡ºè·¯å¾„ç»Ÿä¸€åŒ–è¿ç§»æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æˆåŠŸå°†è‹±è¯­å­¦ä¹ é¡¹ç›®çš„è¾“å‡ºè·¯å¾„ä»åˆ†æ•£çš„æœ¬åœ°ç›®å½•è¿ç§»åˆ°é¡¹ç›®æ ¹ç›®å½•çš„ç»Ÿä¸€è¾“å‡ºç»“æ„ï¼Œä¸ºå¤šå­¦ç§‘æ‰©å±•å¥ å®šäº†åŸºç¡€ã€‚

## ğŸ¯ è¿ç§»ç›®æ ‡

- **ç»Ÿä¸€ç®¡ç†**: å°†æ‰€æœ‰ç§‘ç›®çš„è¾“å‡ºæ–‡ä»¶é›†ä¸­åˆ°é¡¹ç›®æ ¹ç›®å½•çš„ `outputs/` ç›®å½•
- **å¤šå­¦ç§‘æ”¯æŒ**: ä¸ºæœªæ¥æ·»åŠ æ•°å­¦ã€ç‰©ç†ã€åŒ–å­¦ç­‰å­¦ç§‘é¢„ç•™è¾“å‡ºè·¯å¾„
- **é…ç½®åŒ–ç®¡ç†**: é€šè¿‡é…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†å„ç§‘ç›®çš„è¾“å‡ºè·¯å¾„
- **å‘åå…¼å®¹**: ä¿æŒç°æœ‰åŠŸèƒ½æ­£å¸¸è¿è¡Œï¼Œæ— ç¼è¿ç§»

## ğŸ—ï¸ æ–°çš„ç›®å½•ç»“æ„

```
outputs/
â”œâ”€â”€ config.json                    # è¾“å‡ºè·¯å¾„é…ç½®æ–‡ä»¶
â”œâ”€â”€ output_manager.py              # è¾“å‡ºè·¯å¾„ç®¡ç†å™¨
â”œâ”€â”€ migrate_outputs.py             # è¿ç§»å·¥å…·
â”œâ”€â”€ migration_report.json          # è¿ç§»æŠ¥å‘Š
â”œâ”€â”€ english/                       # è‹±è¯­ç§‘ç›®è¾“å‡º
â”‚   â”œâ”€â”€ learning_plans/           # å­¦ä¹ è®¡åˆ’
â”‚   â”œâ”€â”€ custom_plans/             # è‡ªå®šä¹‰è®¡åˆ’
â”‚   â”œâ”€â”€ word_plans/               # å•è¯è®¡åˆ’
â”‚   â”œâ”€â”€ grammar_plans/            # è¯­æ³•è®¡åˆ’
â”‚   â”œâ”€â”€ reports/                  # æŠ¥å‘Šæ–‡ä»¶
â”‚   â”œâ”€â”€ exports/                  # å¯¼å‡ºæ–‡ä»¶
â”‚   â””â”€â”€ word_learning_details/    # å•è¯å­¦ä¹ è¯¦æƒ…
â”œâ”€â”€ math/                         # æ•°å­¦ç§‘ç›®è¾“å‡ºï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ physics/                      # ç‰©ç†ç§‘ç›®è¾“å‡ºï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ chemistry/                    # åŒ–å­¦ç§‘ç›®è¾“å‡ºï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ biology/                      # ç”Ÿç‰©ç§‘ç›®è¾“å‡ºï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ history/                      # å†å²ç§‘ç›®è¾“å‡ºï¼ˆé¢„ç•™ï¼‰
â””â”€â”€ geography/                    # åœ°ç†ç§‘ç›®è¾“å‡ºï¼ˆé¢„ç•™ï¼‰
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### 1. è¾“å‡ºè·¯å¾„ç®¡ç†å™¨ (`output_manager.py`)

**åŠŸèƒ½ç‰¹æ€§**:
- **ç»Ÿä¸€æ¥å£**: æä¾› `get_output_path(subject, output_type)` ä¾¿æ·å‡½æ•°
- **è‡ªåŠ¨åˆ›å»º**: è‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„è¾“å‡ºç›®å½•
- **é…ç½®ç®¡ç†**: æ”¯æŒåŠ¨æ€æ·»åŠ å’Œæ›´æ–°è¾“å‡ºè·¯å¾„é…ç½®
- **è¿ç§»æ”¯æŒ**: æä¾›æ–‡ä»¶è¿ç§»åŠŸèƒ½

**ä½¿ç”¨ç¤ºä¾‹**:
```python
from output_manager import get_output_path, get_english_paths

# è·å–è‹±è¯­å­¦ä¹ è®¡åˆ’è·¯å¾„
learning_plans_path = get_output_path("english", "learning_plans")

# è·å–æ‰€æœ‰è‹±è¯­è¾“å‡ºè·¯å¾„
english_paths = get_english_paths()
```

### 2. é…ç½®æ–‡ä»¶ (`config.json`)

**é…ç½®ç»“æ„**:
```json
{
  "output_paths": {
    "english": {
      "learning_plans": "outputs/english/learning_plans",
      "custom_plans": "outputs/english/custom_plans",
      "word_plans": "outputs/english/word_plans",
      "grammar_plans": "outputs/english/grammar_plans",
      "reports": "outputs/english/reports",
      "exports": "outputs/english/exports",
      "word_learning_details": "outputs/english/word_learning_details"
    }
  },
  "default_subject": "english"
}
```

### 3. è¿ç§»å·¥å…· (`migrate_outputs.py`)

**åŠŸèƒ½ç‰¹æ€§**:
- **æ™ºèƒ½æ‰«æ**: è‡ªåŠ¨æ‰«æç°æœ‰çš„è¾“å‡ºç›®å½•å’Œæ–‡ä»¶
- **å®‰å…¨è¿ç§»**: æ”¯æŒæ¨¡æ‹Ÿè¿è¡Œå’Œå®é™…è¿ç§»ä¸¤ç§æ¨¡å¼
- **è¯¦ç»†æŠ¥å‘Š**: ç”Ÿæˆå®Œæ•´çš„è¿ç§»æŠ¥å‘Š
- **è·¯å¾„æ˜ å°„**: æ™ºèƒ½æ˜ å°„æ—§è·¯å¾„åˆ°æ–°è·¯å¾„

## ğŸ“Š è¿ç§»ç»Ÿè®¡

### è¿ç§»å‰
```
educational_projects/english/
â”œâ”€â”€ saved_plans/          # 13ä¸ªæ–‡ä»¶
â”œâ”€â”€ custom_plans/         # 54ä¸ªæ–‡ä»¶  
â”œâ”€â”€ learning_plans/       # 6ä¸ªæ–‡ä»¶
â””â”€â”€ word_learning_details/ # 9ä¸ªæ–‡ä»¶
```

### è¿ç§»å
```
outputs/english/
â”œâ”€â”€ learning_plans/       # 19ä¸ªæ–‡ä»¶ï¼ˆåˆå¹¶saved_planså’Œlearning_plansï¼‰
â”œâ”€â”€ custom_plans/         # 54ä¸ªæ–‡ä»¶
â””â”€â”€ word_learning_details/ # 9ä¸ªæ–‡ä»¶
```

**æ€»è®¡è¿ç§»**: **82ä¸ªæ–‡ä»¶** æˆåŠŸè¿ç§»åˆ°æ–°çš„ç»Ÿä¸€è¾“å‡ºè·¯å¾„

## ğŸ”„ ä»£ç æ›´æ–°

### æ›´æ–°çš„æ–‡ä»¶

1. **`plan_manager.py`**
   - æ·»åŠ è¾“å‡ºè·¯å¾„ç®¡ç†å™¨å¯¼å…¥
   - æ›´æ–°é»˜è®¤è¾“å‡ºè·¯å¾„ä¸ºç»Ÿä¸€è·¯å¾„
   - æ”¯æŒåŠ¨æ€è·¯å¾„é…ç½®

2. **`custom_plan_generator.py`**
   - é›†æˆè¾“å‡ºè·¯å¾„ç®¡ç†å™¨
   - æ›´æ–°é»˜è®¤è¾“å‡ºç›®å½•é…ç½®
   - æ”¯æŒç»Ÿä¸€è·¯å¾„ç®¡ç†

3. **`generate_phase_plan.py`**
   - æ·»åŠ è¾“å‡ºè·¯å¾„ç®¡ç†å™¨æ”¯æŒ
   - æ›´æ–°é˜¶æ®µè®¡åˆ’è¾“å‡ºè·¯å¾„
   - ä¿æŒå‘åå…¼å®¹æ€§

4. **`word_document_generator.py`**
   - æ›´æ–°å•è¯å­¦ä¹ è¯¦æƒ…è¾“å‡ºè·¯å¾„
   - é›†æˆç»Ÿä¸€è·¯å¾„ç®¡ç†

5. **`plan_document_generator.py`**
   - æ›´æ–°è®¡åˆ’æ–‡æ¡£è¾“å‡ºè·¯å¾„
   - æ”¯æŒç»Ÿä¸€è·¯å¾„é…ç½®

6. **`fast_plan_manager.py`**
   - æ›´æ–°å¿«é€Ÿè®¡åˆ’è¾“å‡ºè·¯å¾„
   - é›†æˆç»Ÿä¸€è·¯å¾„ç®¡ç†

## âœ… éªŒè¯ç»“æœ

### åŠŸèƒ½æµ‹è¯•
- **è®¡åˆ’åˆ›å»º**: âœ… æˆåŠŸåˆ›å»ºæµ‹è¯•è®¡åˆ’
- **è·¯å¾„æ­£ç¡®**: âœ… æ–‡ä»¶ä¿å­˜åˆ°æ–°çš„ç»Ÿä¸€è·¯å¾„
- **é…ç½®åŠ è½½**: âœ… è¾“å‡ºè·¯å¾„ç®¡ç†å™¨æ­£å¸¸å·¥ä½œ
- **å‘åå…¼å®¹**: âœ… ç°æœ‰åŠŸèƒ½å®Œå…¨æ­£å¸¸

### æ€§èƒ½æµ‹è¯•
- **åˆå§‹åŒ–æ—¶é—´**: æ— æ˜æ˜¾å½±å“
- **æ–‡ä»¶æ“ä½œ**: æ€§èƒ½ä¿æŒä¸€è‡´
- **å†…å­˜ä½¿ç”¨**: æ— æ˜¾è‘—å¢åŠ 

## ğŸš€ ä¼˜åŠ¿ä¸æ”¶ç›Š

### 1. **ç»Ÿä¸€ç®¡ç†**
- æ‰€æœ‰è¾“å‡ºæ–‡ä»¶é›†ä¸­ç®¡ç†ï¼Œä¾¿äºç»´æŠ¤
- ç»Ÿä¸€çš„å‘½åè§„èŒƒå’Œç›®å½•ç»“æ„
- ä¾¿äºå¤‡ä»½å’Œç‰ˆæœ¬æ§åˆ¶

### 2. **å¤šå­¦ç§‘æ”¯æŒ**
- ä¸ºæœªæ¥æ·»åŠ æ–°å­¦ç§‘é¢„ç•™äº†å®Œæ•´çš„ç›®å½•ç»“æ„
- æ”¯æŒä¸åŒå­¦ç§‘ä½¿ç”¨ä¸åŒçš„è¾“å‡ºç±»å‹
- ä¾¿äºè·¨å­¦ç§‘çš„å†…å®¹æ•´åˆ

### 3. **é…ç½®åŒ–ç®¡ç†**
- é€šè¿‡é…ç½®æ–‡ä»¶çµæ´»ç®¡ç†è¾“å‡ºè·¯å¾„
- æ”¯æŒåŠ¨æ€æ·»åŠ å’Œä¿®æ”¹è·¯å¾„é…ç½®
- ä¾¿äºéƒ¨ç½²å’Œç¯å¢ƒåˆ‡æ¢

### 4. **æ‰©å±•æ€§**
- æ”¯æŒæ·»åŠ æ–°çš„è¾“å‡ºç±»å‹
- æ”¯æŒè‡ªå®šä¹‰è·¯å¾„æ˜ å°„è§„åˆ™
- ä¾¿äºé›†æˆåˆ°CI/CDæµç¨‹

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡
1. **å®Œå–„é…ç½®**: æ·»åŠ æ›´å¤šé…ç½®é€‰é¡¹ï¼ˆå¤‡ä»½ã€å‹ç¼©ç­‰ï¼‰
2. **ç›‘æ§åŠŸèƒ½**: æ·»åŠ è¾“å‡ºæ–‡ä»¶ä½¿ç”¨ç»Ÿè®¡
3. **æ¸…ç†å·¥å…·**: æ·»åŠ è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ–‡ä»¶çš„å·¥å…·

### ä¸­æœŸç›®æ ‡
1. **å¤šå­¦ç§‘é›†æˆ**: ä¸ºæ•°å­¦ã€ç‰©ç†ç­‰å­¦ç§‘æ·»åŠ è¾“å‡ºæ”¯æŒ
2. **äº‘ç«¯åŒæ­¥**: æ”¯æŒè¾“å‡ºæ–‡ä»¶äº‘ç«¯åŒæ­¥
3. **æƒé™ç®¡ç†**: æ·»åŠ æ–‡ä»¶è®¿é—®æƒé™æ§åˆ¶

### é•¿æœŸç›®æ ‡
1. **åˆ†å¸ƒå¼å­˜å‚¨**: æ”¯æŒåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨
2. **æ™ºèƒ½å½’æ¡£**: åŸºäºAIçš„æ™ºèƒ½æ–‡ä»¶å½’æ¡£
3. **åä½œåŠŸèƒ½**: æ”¯æŒå¤šç”¨æˆ·åä½œå’Œå…±äº«

## ğŸ“ ä½¿ç”¨æŒ‡å—

### è·å–è¾“å‡ºè·¯å¾„
```python
from output_manager import get_output_path

# è·å–è‹±è¯­å­¦ä¹ è®¡åˆ’è·¯å¾„
path = get_output_path("english", "learning_plans")

# è·å–è‹±è¯­è‡ªå®šä¹‰è®¡åˆ’è·¯å¾„  
path = get_output_path("english", "custom_plans")
```

### æ·»åŠ æ–°å­¦ç§‘
```python
from output_manager import OutputManager

manager = OutputManager()
manager.add_subject("math", {
    "learning_plans": "outputs/math/learning_plans",
    "custom_plans": "outputs/math/custom_plans",
    "reports": "outputs/math/reports"
})
```

### è¿ç§»ç°æœ‰æ–‡ä»¶
```bash
# æ¨¡æ‹Ÿè¿ç§»ï¼ˆæŸ¥çœ‹å°†è¦è¿ç§»çš„æ–‡ä»¶ï¼‰
python migrate_outputs.py --dry-run

# æ‰§è¡Œå®é™…è¿ç§»
python migrate_outputs.py --execute
```

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡è¾“å‡ºè·¯å¾„ç»Ÿä¸€åŒ–è¿ç§»æˆåŠŸå®ç°äº†ï¼š

1. **âœ… ç»Ÿä¸€ç®¡ç†**: æ‰€æœ‰è¾“å‡ºæ–‡ä»¶é›†ä¸­åˆ° `outputs/` ç›®å½•
2. **âœ… å¤šå­¦ç§‘æ”¯æŒ**: ä¸º7ä¸ªå­¦ç§‘é¢„ç•™äº†å®Œæ•´çš„è¾“å‡ºç»“æ„
3. **âœ… é…ç½®åŒ–ç®¡ç†**: é€šè¿‡é…ç½®æ–‡ä»¶çµæ´»ç®¡ç†è¾“å‡ºè·¯å¾„
4. **âœ… æ— ç¼è¿ç§»**: 82ä¸ªæ–‡ä»¶æˆåŠŸè¿ç§»ï¼ŒåŠŸèƒ½å®Œå…¨æ­£å¸¸
5. **âœ… å‘åå…¼å®¹**: ç°æœ‰ä»£ç æ— éœ€å¤§å¹…ä¿®æ”¹
6. **âœ… æ‰©å±•æ€§**: ä¸ºæœªæ¥åŠŸèƒ½æ‰©å±•å¥ å®šäº†è‰¯å¥½åŸºç¡€

è¿™æ¬¡è¿ç§»ä¸ºé¡¹ç›®çš„é•¿æœŸå‘å±•å¥ å®šäº†åšå®çš„åŸºç¡€ï¼Œæ”¯æŒå¤šå­¦ç§‘æ‰©å±•ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼
